# 验证器常见的问题

### 什么是全节点

完整节点是运行链*二进制文件*的服务器，它完全验证区块链的交易和区块，并保留所有历史活动的完整记录。全节点不同于只处理块头和一小部分事务的修剪节点。运行完整节点比修剪节点需要更多资源。验证者可以决定运行完整节点或修剪节点，但他们需要确保保留足够的块以能够验证新块。

当然，即使用户不打算成为验证者，也可以并鼓励他们运行完整节点。

### 成为验证者

网络中的任何参与者都可以通过发送交易来表示他们想成为验证者`create-validator`，他们必须填写以下参数：

- **Validator's `PubKey`：**与此 Tendermint 关联的私钥`PubKey`用于签署*prevotes*和*precommits*。
- **验证者地址：**用于公开识别您的验证者的应用程序级地址。与该地址关联的私钥用于委托、解绑、领取奖励和参与治理。
- **验证者的名字（绰号）**
- **验证者的网站（可选）**
- **验证者的描述（可选）**
- **初始佣金率**：向委托人收取的块奖励和费用的佣金率。
- **最高佣金：**此验证者可以收取的最高佣金率。`create-validator`该参数是固定的，事务处理后不能更改。
- **佣金最大变化率：**验证者佣金的最大每日增幅。`create-validator`该参数是固定的，交易处理后不能更改。
- **最小自我委托：**验证者需要一直绑定的最小 psc 数量。如果验证者的自我委托权益低于此限制，他们的验证者将被监禁并被踢出活跃的验证者集。

创建验证者后，psc 持有者可以将 psc委托给他们，从而有效地将权益添加到验证者的池中。一个地址的总权益是委托人抵押的 psc和验证者自抵押的 psc的组合。

### 奖励费用如何分配

出块人包含最低的预提交，则出块人是可以领取费用奖励的。

当包含超过 2/3 的预提交是有奖励的。 奖金是线性的：如果出块者包含 2/3 的预提交（区块有效的最小值），则它的是 1% ，如果出块者包含 100% 的预提交，则为 5%。 当然，出块者不能等待太久，否则其他验证者可能会超时并转移到下一个出块者。 因此，验证者必须在获得最多签名的等待时间和失去提议下一个区块的风险之间找到平衡。 该机制旨在激励非空块提案，更好地在验证者之间建立网络，并减轻审查。



举一个例子说明情况， 网络中有 10 个等价的验证者。每个验证者应用 1% 的佣金率，并拥有 20% 的自我委托 。现在是一个成功的区块，它总共收取了 1025.51020408 psc的费用。

首先征收 2% 的税： 

- `2% * 1025.51020408 = 20.51020408`去社区池。



现在有 1005个代币，因为区块是 100% 签名， 因此出块人可以获取 5%的奖金。

那么每个验证人的获取的奖励为 R, 满足下列方程：

9 *  R  +  R  +  R * 5%  = 1005  

解得： R = 100

- 对于出块人：
	* 奖励池： R +  R * 5%  = 105
	* 佣金： 105  *  80% *  1% = 0.84
	* 验证人奖励： 105 * 20%  + 佣金 =  21.84
	* 委托人总奖励： 105 * 80% - 佣金 = 83.16
- 对于每一个非出块人：
	* 奖励池子： R = 100 
	* 佣金： 100 * 80% * 1% = 0.8 
	* 验证人奖励： 100 * 20%  + 佣金 = 20.8
	* 委托人总奖励： 100 * 80% - 佣金 = 79.2 
	

### 验证器可以处于哪些不同的状态

使用交易创建验证器后`create-validator`，验证器处于以下三种状态之一：

- `in validator set`：验证者在活跃集中，参与共识。验证者正在获得奖励，并且可能会因行为不当而受到惩罚。
- `jailed`: 验证者行为不端并且在监狱中，即在验证者集合之外。
  - 如果监禁是由于离线时间过长，验证者可以发送`unjail`交易以重新进入验证者集。
  - 如果监禁是由于双重签名，验证者不能解除监禁。
- `unbonded`：验证者不在活动集中，因此不签署区块。验证者不能被削减，也不会获得任何奖励。仍然可以将 ATOM 委托给未绑定的验证者。从`unbonded`验证者处取消委托是立即的，这意味着代币不受解绑期的约束。
- 

### 什么是自我委托？我怎样才能增加我的自我授权

自我委托是将ups代币从验证者委托给他们自己。`delegate`可以通过从验证者的`应用程序密钥发送交易来增加委托金额。

### 委托人如何选择他们的验证人

委托人可以根据自己的主观标准自由选择验证人。选择标准包括：

- **自行委托**的 psc 数量：验证者自行委托给自己的 psc 数量。具有更高数量的自我委托 psc 的验证者表明验证者正在分担风险并为其行为承担后果。
- **委托 psc 数量：**委托给验证者的 psc 总数。高投票权表明社区信任该验证者。较大的验证者也会降低网络的去中心化，因此建议委托者考虑委托给较小的验证者。
- **佣金率：**在收入分配给委托人之前，验证者对收入应用的佣金。
- **跟踪记录：**委托人审查他们计划委托给的验证者的跟踪记录。该跟踪记录包括过去对提案的投票和历史平均正常运行时间。
- **社区贡献：**另一个（更主观的）标准是验证者为社区贡献的工作，例如教育内容、对社区渠道的参与、对开源软件的贡献等。



### 验证器能否带着委托人的代币逃跑

通过委托给验证者，用户委托投票权。验证者拥有的投票权越多，他们在共识和治理过程中的权重就越大。这并不意味着验证者拥有其委托人的代币 的保管权。**验证人不能带着委托人的资金逃跑**。

即使委托的资金不能被他们的验证人窃取，但如果他们的验证人遭受**惩罚事件**，委托人的代币仍然可以被削减一小部分，这就是为什么我们鼓励在选择验证人时进行尽职调查的原因。



### 多久选择一次验证者提议下一个区块,频率会随着绑定 代币的数量而增加吗

被选中提议下一个区块的验证者称为提议者。每个提议者都是确定性地选择的。被选中的频率与验证者的投票权（即绑定的代币数量）成正比。例如，如果所有验证者的总抵押权益为 100 psc，而验证者的总权益为 10 psc，则该验证者是大约 10% 的区块的提议者。



### 验证者如何安全地退出验证

如果验证者只是简单地关闭了他们的节点，这将导致验证者及其委托人因离线而受到惩罚。安全退出在 Cosmos Hub 上运行的验证者节点的唯一方法是解除验证者的自我委托权益，使其低于其最低自我委托限制。结果，验证者被判入狱并被踢出活跃的验证者集，而不会受到惩罚。然后他们可以继续关闭他们的节点而不用冒险他们的代币。

强烈建议在执行此操作时通知您的委托人，因为他们在入狱后仍将与您的验证人绑定。他们将需要手动解除绑定，